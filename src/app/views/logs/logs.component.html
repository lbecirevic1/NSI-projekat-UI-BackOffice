<c-row ngPreserveWhitespaces>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>
        <strong>Logs Table</strong>
      </c-card-header>
      <c-card-body>
        <div
          style="
            display: flex;
            flex-direction: 'row';
            justify-content: space-between;
          "
        >
          <div style="display: flex; flex-direction: 'row'">
            <select
              aria-label="Default select example"
              cSelect
              style="margin-bottom: 1rem; width: '60%'; margin-right: 1rem"
              (change)="onChange($event, true)"
            >
              <option value="-1" [selected]="cleared">Select a provider</option>
              <option
                *ngFor="let provider of providers"
                value="{{ provider.id }}"
              >
                {{ provider.name }}
              </option>
            </select>
            <select
              aria-label="Default select example2"
              cSelect
              style="margin-bottom: 1rem; width: '30%'; margin-right: 1rem"
              (change)="onChange($event, false)"
            >
              <option value="-1" [selected]="cleared">Select a status</option>
              <option value="true">Success</option>
              <option value="false">Failure</option>
            </select>
            <div class="d-grid gap-2 d-md-block">
              <button cButton color="dark" (click)="onClearFilter()">
                Clear
              </button>
            </div>
          </div>
          <div
            style="
              display: flex;
              flex-direction: 'row';
              align-items: center;
              width: '50%';
              justify-content: flex-end;
            "
          >
            <p style="font-weight: 500; margin-right: 1rem">Number of rows</p>
            <select
              aria-label="Default select example3"
              cSelect
              style="
                margin-bottom: 1rem;
                width: '15%';
                margin-right: 1rem;
                align-self: flex-end;
              "
              (change)="onChangeNumberOfRows($event)"
            >
              <option value="5">5</option>
              <option value="10">10</option>
              <option value="15">15</option>
              <option value="20">20</option>
            </select>
          </div>
        </div>

        <table cTable [hover]="true">
          <thead cTableColor="primary">
            <tr>
              <th scope="col" style="display: flex; gap: '12px'">
                Request Start Date
                <div
                  (click)="onSort('RequestStartTime')"
                  style="cursor: pointer"
                >
                  <img
                    *ngIf="reqStartDateAsc"
                    src="../../../assets/images/sort-asc.svg"
                  />
                  <img
                    *ngIf="!reqStartDateAsc"
                    src="../../../assets/images/sort-desc.svg"
                  />
                </div>
              </th>
              <th scope="col">Request Start Time</th>
              <th scope="col" style="display: flex; gap: '12px'">
                Request End Date
                <div (click)="onSort('RequestEndTime')" style="cursor: pointer">
                  <img
                    *ngIf="reqEndDateAsc"
                    src="../../../assets/images/sort-asc.svg"
                  />
                  <img
                    *ngIf="!reqEndDateAsc"
                    src="../../../assets/images/sort-desc.svg"
                  />
                </div>
              </th>
              <th scope="col">Request End Time</th>
              <th
                scope="col"
                (click)="onSortColumn('Success')"
                style="cursor: pointer"
              >
                Status
              </th>
              <th scope="col" style="display: flex; gap: '12px'">
                Provider Name
                <div (click)="onSort('Provider.Name')" style="cursor: pointer">
                  <img
                    *ngIf="providerNameAsc"
                    src="../../../assets/images/sort-asc.svg"
                  />
                  <img
                    *ngIf="!providerNameAsc"
                    src="../../../assets/images/sort-desc.svg"
                  />
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let log of logs">
              <td>{{ log.requestStartDate }}</td>
              <td>{{ log.requestStartTime }}</td>
              <td>{{ log.requestEndDate }}</td>
              <td>{{ log.requestEndTime }}</td>
              <td *ngIf="log.status === 'Success'; else elseBlock">
                <c-badge
                  color="success"
                  shape="rounded-pill"
                  style="
                    width: 5rem;
                    height: 1.5rem;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                  >{{ log.status }}</c-badge
                >
              </td>
              <ng-template #elseBlock>
                <td>
                  <c-badge
                    color="danger"
                    shape="rounded-pill"
                    style="
                      width: 5rem;
                      height: 1.5rem;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                    "
                    >{{ log.status }}</c-badge
                  >
                </td>
              </ng-template>
              <td style="width: '25%'">{{ log.providerName }}</td>
            </tr>
          </tbody>
        </table>
        <c-pagination
          align="end"
          aria-label="Page navigation example"
          style="--cui-pagination-color: red"
        >
          <c-page-item [disabled]="paging.page === 1">
            <button
              cPageLink
              (click)="onPageChangeNext(false)"
              style="--cui-pagination-color: #354053"
            >
              Previous
            </button>
          </c-page-item>
          <c-page-item
            *ngFor="let page of pages"
            [active]="paging.page === page"
            style="
              --cui-pagination-color: #354053;
              --cui-pagination-active-bg: #d6d2f8;
              --cui-pagination-active-border-color: #d6d2f8;
              --cui-pagination-active-color: #354053;
            "
          >
            <button cPageLink (click)="onPageChange(page)">{{ page }}</button>
          </c-page-item>
          <c-page-item [disabled]="paging.page === paging.pages">
            <button
              cPageLink
              (click)="onPageChangeNext(true)"
              style="--cui-pagination-color: #354053"
            >
              Next
            </button>
          </c-page-item>
        </c-pagination>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
